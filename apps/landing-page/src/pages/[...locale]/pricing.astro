---
export const prerender = true;

import {
   ChartPie,
   Check,
   CreditCard,
   FileText,
   FolderSync,
   LayoutDashboard,
   Lock,
   Server,
   Settings,
   Users,
   Wallet,
   Zap,
} from "@lucide/astro";
import StickyNavbar from "@/components/StickyNavbar.astro";
import Landing from "@/layouts/Landing.astro";
import Footer from "@/sections/Footer.astro";

export function getStaticPaths() {
   return [
      { params: { locale: undefined } },
      { params: { locale: "en" } },
      { params: { locale: "de" } },
      { params: { locale: "es" } },
   ];
}

const navCategories = [
   { id: "core", label: "Recursos Principais", icon: "Wallet" },
   { id: "planning", label: "Planejamento", icon: "LayoutDashboard" },
   { id: "automation", label: "Automacoes", icon: "Zap" },
   { id: "analytics", label: "Analises", icon: "ChartPie" },
   { id: "team", label: "Equipe", icon: "Users" },
   { id: "enterprise", label: "Enterprise", icon: "Lock" },
];

const freeFeatures = [
   "Transacoes ilimitadas",
   "Importacao/exportacao OFX",
   "Categorias e tags personalizadas",
   "Relatorios basicos",
   "Autenticacao segura",
   "50 MB de armazenamento",
   "1 workspace",
];

const coreFeatures = {
   title: "Gerenciamento Financeiro",
   description:
      "Controle completo de transacoes, contas bancarias e documentos financeiros.",
   included: {
      label: "Incluido em todos os planos",
      value: "Transacoes ilimitadas",
   },
   features: [
      "CRUD de transacoes (Receitas, Despesas, Transferencias)",
      "Divisao de transacoes entre multiplas categorias",
      "Anexos de documentos (PDF, imagens) em transacoes",
      "Acoes em lote (excluir, categorizar, vincular transferencias)",
      "Vinculacao inteligente de transferencias entre contas",
      "Gerenciamento de contas bancarias (Corrente, Poupanca, Investimento)",
      "Integracao com BrasilAPI para lista de bancos",
      "Importacao/exportacao de arquivos OFX",
      "Status de contas (Arquivar/Desativar sem perder dados)",
      "Deduplicacao automatica na importacao",
   ],
};

const planningFeatures = {
   title: "Planejamento e Controle",
   description:
      "Crie orcamentos, gerencie contas a pagar/receber e planeje seu futuro financeiro.",
   included: {
      label: "Basico incluido",
      value: "Orcamentos simples",
   },
   addons: [
      { name: "Orcamentos avancados com rollover", price: "Pro" },
      { name: "Gerenciamento de contas a pagar/receber", price: "Pro" },
      { name: "Calculo de juros e multas automatico", price: "Pro" },
   ],
   features: [
      "Orcamentos por categorias, tags ou centros de custo",
      "Modos: Pessoal (Gamificado) vs Empresarial (Estrito)",
      "Rollover de saldos positivos/negativos",
      "Alertas configuraveis de limite (80%, 100%)",
      "Barras de progresso visuais e previsoes",
      "Contas a pagar/receber (Pendente, Pago, Vencido)",
      "Recorrencia: Mensal, Trimestral, Semestral, Anual",
      "Parcelas com valores iguais ou personalizados",
      "Templates para calculo de juros (Diario/Mensal %)",
      "Indices de correcao (IPCA/SELIC/CDI)",
      "Calculo automatico de valores atualizados",
  ],
};

const automationFeatures = {
   title: "Automacoes e Inteligencia",
   description:
      "Crie regras inteligentes para automatizar tarefas repetitivas e economizar tempo.",
   included: {
      label: "Basico incluido",
      value: "5 regras por workspace",
   },
   addons: [
      { name: "Regras ilimitadas", price: "Pro" },
      { name: "Acoes avancadas (email, notificacoes)", price: "Pro" },
      { name: "Condicoes complexas com grupos AND/OR", price: "Pro" },
   ],
   features: [
      "Editor visual baseado em React Flow",
      "Gatilhos: Transacao Criada, Transacao Atualizada",
      "Condicoes complexas (grupos AND/OR)",
      "Baseado em valor, descricao, tipo, conta bancaria",
      "Acoes: Auto-categorizar",
      "Adicionar/Remover tags",
      "Definir centro de custo",
      "Modificar descricao (suporte Regex/Template)",
      "Enviar notificacoes push",
      "Enviar e-mails automaticos",
      "Logs detalhados de execucao (Sucesso/Falha/Ignorado)",
   ],
};

const analyticsFeatures = {
   title: "Analises e Relatorios",
   description:
      "Dashboards interativos e relatorios detalhados para tomada de decisao inteligente.",
   included: {
      label: "Basico incluido",
      value: "Dashboard resumido",
   },
   addons: [
      { name: "Relatorios personalizados (DRE)", price: "Pro" },
      { name: "Exportacao PDF ilimitada", price: "Pro" },
      { name: "Previsoes e analises preditivas", price: "Enterprise" },
   ],
   features: [
      "Dashboard com saldo liquido",
      "Receitas vs Despesas detalhado",
      "Atividades recentes",
      "Relatorio DRE Gerencial",
      "Relatorio DRE Fiscal (Planejado vs Realizado)",
      "Exportacao de relatorios em PDF",
      "Graficos: Evolucao do fluxo de caixa",
      "Distribuicao por categoria (Pizza/Barra)",
      "Tendencias mensais",
      "Performance de pagamentos (No prazo vs Atrasado)",
      "Filtros e periodos personalizaveis",
      "Comparativos entre periodos",
   ],
};

const enterpriseFeatures = {
   title: "Enterprise",
   description:
      "Seguranca avancada, conformidade e suporte dedicado para grandes organizacoes.",
   security: {
      title: "Seguranca e Conformidade",
      description:
         "Mantenha seus dados seguros e em conformidade com regulamentacoes.",
      tiers: [
         { name: "SSO com Google", price: "incluido" },
         { name: "SSO com Azure/Okta", price: "R$5 por usuario/mes" },
         { name: "SAML Generico", price: "enterprise" },
      ],
      features: [
         "Autenticacao 2FA",
         "Logs de auditoria",
         "Controle de sessao",
         "IP allowlist",
         "Conformidade LGPD",
         "Criptografia em repouso",
         "Politicas de senha",
         "Gestao de dispositivos",
      ],
   },
   support: {
      title: "Suporte Dedicado",
      description: "Obtenha ajuda prioritaria quando voce precisar.",
      tiers: [
         { name: "Suporte por e-mail", price: "incluido" },
         { name: "Suporte prioritario (4h SLA)", price: "R$99 por mes" },
         { name: "Gerente de conta dedicado", price: "enterprise" },
      ],
      features: [
         "Base de conhecimento",
         "Documentacao completa",
         "Suporte da comunidade",
         "Onboarding guiado",
         "Treinamento personalizado",
         "Revisoes trimestrais",
      ],
   },
};

const plans = [
   {
      name: "Free",
      priceMonthly: 0,
      priceYearly: 0,
      description: "Perfeito para controle financeiro pessoal",
      specs: [
         { label: "Workspaces", val: "1" },
         { label: "Transacoes", val: "Ilimitadas" },
         { label: "Armazenamento", val: "50 MB" },
         { label: "Regras de automacao", val: "5" },
      ],
      features: [
         "Transacoes ilimitadas",
         "Importacao/exportacao OFX",
         "Categorias e tags personalizadas",
         "Dashboard basico",
         "Relatorios simples",
         "Autenticacao segura",
      ],
      highlighted: false,
   },
   {
      name: "Pro",
      priceMonthly: 39,
      priceYearly: 32,
      discount: "18%",
      description: "Para usuarios avancados e pequenas equipes",
      specs: [
         { label: "Workspaces", val: "5" },
         { label: "Transacoes", val: "Ilimitadas" },
         { label: "Armazenamento", val: "5 GB" },
         { label: "Regras de automacao", val: "Ilimitadas" },
      ],
      features: [
         "Todos os recursos do Free",
         "Orcamentos avancados com rollover",
         "Contas a pagar/receber",
         "Calculo automatico de juros e multas",
         "Regras de automacao ilimitadas",
         "Relatorios DRE Gerencial e Fiscal",
         "Exportacao PDF ilimitada",
         "Membros da equipe (ate 10)",
         "Suporte prioritario",
      ],
      highlighted: true,
   },
   {
      name: "Business",
      priceMonthly: 99,
      priceYearly: 79,
      discount: "20%",
      description: "Para empresas em crescimento",
      specs: [
         { label: "Workspaces", val: "20" },
         { label: "Transacoes", val: "Ilimitadas" },
         { label: "Armazenamento", val: "25 GB" },
         { label: "Membros", val: "Ilimitados" },
      ],
      features: [
         "Todos os recursos do Pro",
         "Centros de custo personalizados",
         "Aprovacao de fluxos de gastos",
         "Integracoes via API",
         "Webhooks personalizados",
         "Logs de auditoria completos",
         "Backup dedicado",
         "SLA de 99.9%",
         "Onboarding personalizado",
      ],
      highlighted: false,
   },
   {
      name: "Enterprise",
      priceMonthly: "Personalizado",
      priceYearly: "Personalizado",
      description: "Para grandes organizacoes",
      specs: [
         { label: "Workspaces", val: "Ilimitados" },
         { label: "Transacoes", val: "Ilimitadas" },
         { label: "Armazenamento", val: "Personalizado" },
         { label: "Membros", val: "Ilimitados" },
      ],
      features: [
         "Todos os recursos do Business",
         "SSO (SAML, Azure, Google)",
         "Conformidade LGPD completa",
         "Gerente de conta dedicado",
         "SLA personalizado",
         "Treinamento para equipe",
         "Ambiente dedicado (opcional)",
         "Suporte 24/7",
      ],
      highlighted: false,
   },
];

const faqs = [
   {
      question: "O que esta incluido no plano Free?",
      answer:
         "O plano Free inclui transacoes ilimitadas, importacao/exportacao OFX, categorias e tags personalizadas, dashboard basico, relatorios simples, autenticacao segura e 50 MB de armazenamento. Perfeito para controle financeiro pessoal.",
   },
   {
      question: "Qual a diferenca entre os planos Pro e Business?",
      answer:
         "O plano Pro e para usuarios avancados e pequenas equipes, incluindo orcamentos avancados, automacoes ilimitadas e relatorios DRE. O plano Business adiciona recursos corporativos como centros de custo, fluxos de aprovacao, API e suporte dedicado.",
   },
   {
      question: "Como funcionam as automacoes?",
      answer:
         "Com nosso editor visual React Flow, voce cria regras com gatilhos (transacao criada/atualizada), condicoes complexas (AND/OR) e acoes automaticas como categorizar, adicionar tags, enviar notificacoes e e-mails. O plano Free inclui 5 regras, Pro inclui ilimitadas.",
   },
   {
      question: "O Montte suporta contas a pagar e receber?",
      answer:
         "Sim! Nos planos Pro e superiores voce pode gerenciar contas a pagar e receber com controle de status (Pendente, Pago, Vencido), recorrencia mensal/trimestral/semestral/anual, parcelas personalizadas e calculo automatico de juros e multas.",
   },
   {
      question: "Posso usar o Montte gratuitamente para sempre?",
      answer:
         "Sim! O plano Free e completamente gratuito para sempre. Voce tambem pode auto-hospedar a versao open-source sem limites.",
   },
   {
      question: "Voces oferecem desconto para cobranca anual?",
      answer:
         "Sim! Com cobranca anual voce economiza ate 20% dependendo do plano (equivalente a ~2-3 meses gratis).",
   },
   {
      question: "Posso trocar de plano a qualquer momento?",
      answer:
         "Sim, voce pode fazer upgrade ou downgrade a qualquer momento. O valor sera calculado proporcionalmente e voce nao perde seus dados.",
   },
   {
      question: "Voces oferecem reembolso?",
      answer:
         "Oferecemos garantia de devolucao em 30 dias para todos os planos pagos, sem perguntas.",
   },
];
---

<Landing>
   <StickyNavbar />

   <div class="bg-background min-h-screen font-sans text-muted-foreground selection:bg-primary selection:text-primary-foreground">
      <!-- HERO SECTION -->
      <section class="pt-24 pb-12 px-4 relative overflow-hidden">
         <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[400px] bg-primary/5 opacity-50 blur-[120px] rounded-full pointer-events-none"></div>

         <div class="container mx-auto max-w-[1200px] text-center relative z-10">
            <h1 class="text-foreground text-5xl md:text-6xl font-bold tracking-tight mb-6">Precos</h1>
            <p class="text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10">
               Experimente o Montte hoje sem riscos com nossa garantia de devolucao de 30 dias.
            </p>

            <!-- Toggle Switch -->
            <div class="flex flex-col items-center justify-center">
               <label class="flex items-center gap-4 cursor-pointer group select-none">
                  <span class="text-sm font-medium text-muted-foreground group-hover:text-foreground transition-colors" id="label-monthly">Mensal</span>
                  <div class="relative">
                     <input type="checkbox" id="pricing-toggle" class="peer sr-only" checked />
                     <div class="w-14 h-7 bg-muted border border-border rounded-full peer-focus:ring-2 peer-focus:ring-primary/40 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-foreground after:rounded-full after:h-6 after:w-6 after:transition-all shadow-inner"></div>
                  </div>
                  <span class="text-sm font-medium text-foreground transition-colors" id="label-yearly">Anual</span>
               </label>
               <span class="mt-3 text-xs font-medium text-primary">Ganhe ~2 meses gratis</span>
            </div>
         </div>
      </section>

      <!-- MAIN LAYOUT WITH SIDEBAR -->
      <div class="container mx-auto max-w-[1200px] px-4 pb-20">
         <div class="flex flex-col lg:flex-row gap-8">
            <!-- LEFT SIDEBAR NAV -->
            <aside class="lg:w-64 shrink-0">
               <div class="lg:sticky lg:top-24 space-y-6">
                   <!-- Category Navigation -->
                   <nav class="space-y-1">
                      <div class="text-xs uppercase font-bold tracking-widest text-muted-foreground/60 mb-3">Recursos</div>
                      <a href="#core" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm hover:bg-muted/50 transition-colors group">
                         <Wallet class="w-4 h-4 text-muted-foreground group-hover:text-foreground" />
                         <span class="text-muted-foreground group-hover:text-foreground">Gerenciamento Financeiro</span>
                      </a>
                      <a href="#planning" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm hover:bg-muted/50 transition-colors group">
                         <LayoutDashboard class="w-4 h-4 text-muted-foreground group-hover:text-foreground" />
                         <span class="text-muted-foreground group-hover:text-foreground">Planejamento</span>
                      </a>
                      <a href="#automation" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm hover:bg-muted/50 transition-colors group">
                         <Zap class="w-4 h-4 text-muted-foreground group-hover:text-foreground" />
                         <span class="text-muted-foreground group-hover:text-foreground">Automacoes</span>
                      </a>
                      <a href="#analytics" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm hover:bg-muted/50 transition-colors group">
                         <ChartPie class="w-4 h-4 text-muted-foreground group-hover:text-foreground" />
                         <span class="text-muted-foreground group-hover:text-foreground">Analises</span>
                      </a>

                      <div class="text-xs uppercase font-bold tracking-widest text-muted-foreground/60 mb-3 mt-6">Equipe</div>
                      <a href="#team" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm hover:bg-muted/50 transition-colors group">
                         <Users class="w-4 h-4 text-muted-foreground group-hover:text-foreground" />
                         <span class="text-muted-foreground group-hover:text-foreground">Colaboracao</span>
                      </a>

                      <div class="text-xs uppercase font-bold tracking-widest text-muted-foreground/60 mb-3 mt-6">Enterprise</div>
                      <a href="#enterprise" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm hover:bg-muted/50 transition-colors group">
                         <Lock class="w-4 h-4 text-muted-foreground group-hover:text-foreground" />
                         <span class="text-muted-foreground group-hover:text-foreground">Enterprise</span>
                      </a>
                   </nav>

                  <!-- Billing Toggle (Sidebar) -->
                  <div class="p-4 rounded-lg bg-card border border-border">
                     <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-foreground">Pagar anualmente</span>
                        <label class="relative cursor-pointer">
                           <input type="checkbox" id="pricing-toggle-sidebar" class="peer sr-only" checked />
                           <div class="w-10 h-5 bg-muted border border-border rounded-full peer-checked:bg-primary peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-foreground peer-checked:after:bg-primary-foreground after:rounded-full after:h-4 after:w-4 after:transition-all"></div>
                        </label>
                     </div>
                     <p class="text-xs text-primary mt-2">Ganhe ~2 meses gratis</p>
                  </div>
               </div>
            </aside>

            <!-- MAIN CONTENT -->
            <main class="flex-1 space-y-16">
               <!-- FREE TIER SUMMARY -->
               <section class="rounded-xl border border-border bg-gradient-to-b from-card to-background overflow-hidden">
                  <div class="p-6 md:p-8 flex flex-col md:flex-row md:items-center justify-between gap-6">
                     <div>
                        <h2 class="text-foreground text-xl font-bold mb-2">Gratis para projetos pessoais</h2>
                        <div class="flex items-baseline gap-2 mb-3">
                           <span class="text-foreground text-5xl font-bold tracking-tighter">R$0</span>
                           <span class="text-sm text-muted-foreground">por mes</span>
                        </div>
                     </div>
                     <a href="https://app.montte.co/auth/sign-up" class="shrink-0 inline-flex items-center justify-center px-6 py-3 rounded-lg bg-foreground text-background font-medium hover:bg-foreground/90 transition-colors">
                        Comecar gratis
                     </a>
                  </div>
                  <div class="border-t border-dashed border-border px-6 md:px-8 py-6">
                     <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
                        {freeFeatures.map((feature) => (
                           <div class="flex items-center gap-2">
                              <Check class="w-4 h-4 text-muted-foreground shrink-0" />
                              <span>{feature}</span>
                           </div>
                        ))}
                     </div>
                  </div>
               </section>

               <!-- STARTS AT SECTION -->
               <section>
                  <h2 class="text-foreground text-3xl font-bold mb-3">Comeca em apenas R$29</h2>
                  <p class="text-muted-foreground mb-8 max-w-xl">
                     Inclui workspace completo com analises avancadas, colaboracao e todas as automacoes para voce aproveitar toda a plataforma.
                  </p>

                   <!-- Plans Grid -->
                   <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                      {plans.map((plan) => (
                         <div class={`rounded-lg border p-5 hover:border-primary/40 transition-colors group ${plan.highlighted ? 'border-primary/50 bg-card' : 'border-border bg-gradient-to-b from-card to-background'}`}>
                            <div class="flex justify-between items-start mb-3">
                               <span class="text-sm font-bold text-muted-foreground group-hover:text-foreground transition-colors">{plan.name}</span>
                               {plan.highlighted && (
                                  <span class="text-xs font-bold text-primary bg-primary/10 border border-primary/20 px-2 py-1 rounded">Popular</span>
                               )}
                            </div>
                            <div class="flex items-end gap-2 mb-1">
                               <div class="text-foreground text-3xl font-bold tracking-tighter">
                                  {typeof plan.priceMonthly === 'number' ? (
                                     <>
                                        <span class="price-monthly">R${plan.priceMonthly}</span>
                                        <span class="price-yearly hidden">R${plan.priceYearly}</span>
                                     </>
                                  ) : (
                                     <span class="text-lg">{plan.priceMonthly}</span>
                                  )}
                               </div>
                               {plan.discount && (
                                  <div class="text-[10px] font-bold text-primary bg-primary/10 border border-primary/20 px-1.5 py-0.5 rounded mb-1">
                                     {plan.discount} OFF
                                  </div>
                               )}
                            </div>
                            <p class="text-xs text-muted-foreground mb-4">{plan.description}</p>
                            <div class="space-y-3 pt-4 border-t border-dashed border-border">
                               {plan.specs.map((spec) => (
                                  <div class="flex justify-between items-center text-xs">
                                     <span class="text-muted-foreground">{spec.label}</span>
                                     <span class="text-foreground font-mono font-medium">{spec.val}</span>
                                  </div>
                               ))}
                            </div>
                         </div>
                      ))}
                   </div>
               </section>

                <!-- CORE FEATURES SECTION -->
                <section id="core" class="scroll-mt-24">
                   <h2 class="text-foreground text-3xl font-bold mb-2">{coreFeatures.title}</h2>
                   <p class="text-muted-foreground mb-8 max-w-2xl">{coreFeatures.description}</p>

                   <!-- Pricing Table -->
                   <div class="rounded-xl border border-border bg-card overflow-hidden mb-8">
                      <div class="flex items-center justify-between px-6 py-4 border-b border-border bg-muted/30">
                         <span class="font-medium text-foreground">{coreFeatures.included.label}</span>
                         <span class="text-sm font-medium text-primary">{coreFeatures.included.value}</span>
                      </div>
                   </div>

                   <!-- Features Grid -->
                   <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm">
                      {coreFeatures.features.map((feature) => (
                         <div class="flex items-center gap-2">
                            <Check class="w-4 h-4 text-primary shrink-0" />
                            <span class="text-muted-foreground">{feature}</span>
                         </div>
                      ))}
                   </div>
                </section>

                <!-- PLANNING SECTION -->
                <section id="planning" class="scroll-mt-24">
                   <h2 class="text-foreground text-3xl font-bold mb-2">{planningFeatures.title}</h2>
                   <p class="text-muted-foreground mb-8 max-w-2xl">{planningFeatures.description}</p>

                   <!-- Pricing Table -->
                   <div class="rounded-xl border border-border bg-card overflow-hidden mb-8">
                      <div class="flex items-center justify-between px-6 py-4 border-b border-border bg-muted/30">
                         <span class="font-medium text-foreground">{planningFeatures.included.label}</span>
                         <span class="text-sm font-medium text-primary">{planningFeatures.included.value}</span>
                      </div>
                      {planningFeatures.addons.map((addon, index) => (
                         <div class={`flex items-center justify-between px-6 py-4 ${index < planningFeatures.addons.length - 1 ? 'border-b border-dashed border-border' : ''}`}>
                            <div class="flex items-center gap-2">
                               <Zap class="w-4 h-4 text-primary" />
                               <span class="text-sm">{addon.name}</span>
                            </div>
                            <span class={`text-sm ${addon.price === 'Pro' ? 'text-primary font-medium' : 'text-muted-foreground'}`}>{addon.price}</span>
                         </div>
                      ))}
                   </div>

                   <!-- Features Grid -->
                   <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm">
                      {planningFeatures.features.map((feature) => (
                         <div class="flex items-center gap-2">
                            <Check class="w-4 h-4 text-primary shrink-0" />
                            <span class="text-muted-foreground">{feature}</span>
                         </div>
                      ))}
                   </div>
                </section>

                <!-- AUTOMATION SECTION -->
                <section id="automation" class="scroll-mt-24">
                   <h2 class="text-foreground text-3xl font-bold mb-2">{automationFeatures.title}</h2>
                   <p class="text-muted-foreground mb-8 max-w-2xl">{automationFeatures.description}</p>

                   <!-- Pricing Table -->
                   <div class="rounded-xl border border-border bg-card overflow-hidden mb-8">
                      <div class="flex items-center justify-between px-6 py-4 border-b border-border bg-muted/30">
                         <span class="font-medium text-foreground">{automationFeatures.included.label}</span>
                         <span class="text-sm font-medium text-primary">{automationFeatures.included.value}</span>
                      </div>
                      {automationFeatures.addons.map((addon, index) => (
                         <div class={`flex items-center justify-between px-6 py-4 ${index < automationFeatures.addons.length - 1 ? 'border-b border-dashed border-border' : ''}`}>
                            <div class="flex items-center gap-2">
                               <Zap class="w-4 h-4 text-primary" />
                               <span class="text-sm">{addon.name}</span>
                            </div>
                            <span class={`text-sm ${addon.price === 'Pro' ? 'text-primary font-medium' : 'text-muted-foreground'}`}>{addon.price}</span>
                         </div>
                      ))}
                   </div>

                   <!-- Features Grid -->
                   <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm">
                      {automationFeatures.features.map((feature) => (
                         <div class="flex items-center gap-2">
                            <Check class="w-4 h-4 text-primary shrink-0" />
                            <span class="text-muted-foreground">{feature}</span>
                         </div>
                      ))}
                   </div>
                </section>

                <!-- ANALYTICS SECTION -->
                <section id="analytics" class="scroll-mt-24">
                   <h2 class="text-foreground text-3xl font-bold mb-2">{analyticsFeatures.title}</h2>
                   <p class="text-muted-foreground mb-8 max-w-2xl">{analyticsFeatures.description}</p>

                   <!-- Pricing Table -->
                   <div class="rounded-xl border border-border bg-card overflow-hidden mb-8">
                      <div class="flex items-center justify-between px-6 py-4 border-b border-border bg-muted/30">
                         <span class="font-medium text-foreground">{analyticsFeatures.included.label}</span>
                         <span class="text-sm font-medium text-primary">{analyticsFeatures.included.value}</span>
                      </div>
                      {analyticsFeatures.addons.map((addon, index) => (
                         <div class={`flex items-center justify-between px-6 py-4 ${index < analyticsFeatures.addons.length - 1 ? 'border-b border-dashed border-border' : ''}`}>
                            <div class="flex items-center gap-2">
                               <Zap class="w-4 h-4 text-primary" />
                               <span class="text-sm">{addon.name}</span>
                            </div>
                            <span class={`text-sm ${addon.price === 'Pro' ? 'text-primary font-medium' : addon.price === 'Enterprise' ? 'text-primary font-medium' : 'text-muted-foreground'}`}>{addon.price}</span>
                         </div>
                      ))}
                   </div>

                   <!-- Features Grid -->
                   <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm">
                      {analyticsFeatures.features.map((feature) => (
                         <div class="flex items-center gap-2">
                            <Check class="w-4 h-4 text-primary shrink-0" />
                            <span class="text-muted-foreground">{feature}</span>
                         </div>
                      ))}
                   </div>
                </section>

                <!-- TEAM SECTION -->
                <section id="team" class="scroll-mt-24">
                   <h2 class="text-foreground text-3xl font-bold mb-2">Colaboracao e Equipes</h2>
                   <p class="text-muted-foreground mb-8 max-w-2xl">
                      Trabalhe em equipe com controle de acesso granular e gerenciamento multi-tenant.
                   </p>

                   <!-- Features Grid -->
                   <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm mb-8">
                      {[
                         "Multi-tenant (Organizacoes)",
                         "Criacao de equipes",
                         "Convites por e-mail",
                         "Controle de acesso baseado em papeis (Owner, Admin, Member)",
                         "Workspaces compartilhados",
                         "Sessao multi-dispositivo",
                         "Revogacao remota de acesso",
                         "Logs de atividade",
                         "Configuracoes de notificacoes",
                         "Web Push para bills e orcamentos",
                         "Suporte a multi-idiomas (PT-BR)",
                         "Tema claro/escuro/sistema",
                      ].map((feature) => (
                         <div class="flex items-center gap-2">
                            <Check class="w-4 h-4 text-primary shrink-0" />
                            <span class="text-muted-foreground">{feature}</span>
                         </div>
                      ))}
                   </div>

                   <!-- Team Tiers -->
                   <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                      <div class="rounded-xl border border-border bg-gradient-to-b from-card to-background p-6">
                         <h3 class="text-foreground font-bold text-lg mb-1">Free</h3>
                         <p class="text-sm text-muted-foreground mb-4">Para uso pessoal</p>
                         <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-foreground text-4xl font-bold tracking-tighter">R$0</span>
                            <span class="text-sm text-muted-foreground">por mes</span>
                         </div>
                         <ul class="space-y-2 text-sm text-muted-foreground">
                            <li>• 1 workspace</li>
                            <li>• Acesso individual</li>
                            <li>• Recursos basicos</li>
                         </ul>
                      </div>
                      <div class="rounded-xl border border-primary/50 bg-card p-6">
                         <h3 class="text-foreground font-bold text-lg mb-1">Pro</h3>
                         <p class="text-sm text-muted-foreground mb-4">Para pequenas equipes</p>
                         <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-foreground text-4xl font-bold tracking-tighter">R$39</span>
                            <span class="text-sm text-muted-foreground">por mes</span>
                         </div>
                         <ul class="space-y-2 text-sm text-muted-foreground">
                            <li>• Ate 5 workspaces</li>
                            <li>• Ate 10 membros</li>
                            <li>• Todos os recursos Pro</li>
                         </ul>
                      </div>
                      <div class="rounded-xl border border-border bg-gradient-to-b from-card to-background p-6">
                         <h3 class="text-foreground font-bold text-lg mb-1">Business</h3>
                         <p class="text-sm text-muted-foreground mb-4">Para empresas</p>
                         <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-foreground text-4xl font-bold tracking-tighter">R$99</span>
                            <span class="text-sm text-muted-foreground">por mes</span>
                         </div>
                         <ul class="space-y-2 text-sm text-muted-foreground">
                            <li>• Workspaces ilimitados</li>
                            <li>• Membros ilimitados</li>
                            <li>• Recursos empresariais</li>
                         </ul>
                      </div>
                   </div>
                </section>

                <!-- ENTERPRISE SECTION -->
                <section id="enterprise" class="scroll-mt-24">
                   <h2 class="text-foreground text-3xl font-bold mb-8">Enterprise</h2>

                   <!-- Security Subsection -->
                   <div class="mb-12">
                      <h3 class="text-foreground text-xl font-bold mb-2">Seguranca e Conformidade</h3>
                      <p class="text-muted-foreground mb-6 max-w-2xl">
                         Mantenha seus dados seguros e em conformidade com regulamentacoes.
                      </p>

                      <div class="rounded-xl border border-border bg-card overflow-hidden mb-6">
                         {[
                            { name: "Autenticacao Better Auth (Email/Password, Google OAuth)", price: "incluido" },
                            { name: "Verificacao de email e recuperacao de senha", price: "incluido" },
                            { name: "Magic Links para acesso rapido", price: "incluido" },
                            { name: "SSO com Google", price: "incluido" },
                            { name: "SSO com Azure/Okta", price: "Enterprise" },
                            { name: "SAML Generico", price: "Enterprise" },
                         ].map((tier, index) => (
                            <div class={`flex items-center justify-between px-6 py-4 ${index < 6 ? 'border-b border-dashed border-border' : ''}`}>
                               <span class="text-sm">{tier.name}</span>
                               <span class={`text-sm ${tier.price === 'incluido' ? 'text-primary font-medium' : tier.price === 'Enterprise' ? 'text-primary font-medium' : 'text-muted-foreground'}`}>
                                  {tier.price}
                               </span>
                            </div>
                         ))}
                      </div>

                      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                         {[
                            "Autenticacao 2FA",
                            "Logs de auditoria completos",
                            "Controle de sessao multi-dispositivo",
                            "IP allowlist",
                            "Conformidade LGPD",
                            "Criptografia em repouso e em trânsito",
                            "Politicas de senha configuraveis",
                            "Gestao de dispositivos",
                         ].map((feature) => (
                            <div class="flex items-center gap-2">
                               <Check class="w-4 h-4 text-primary shrink-0" />
                               <span class="text-muted-foreground">{feature}</span>
                            </div>
                         ))}
                      </div>
                   </div>

                   <!-- Support Subsection -->
                   <div class="mb-12">
                      <h3 class="text-foreground text-xl font-bold mb-2">Suporte Dedicado</h3>
                      <p class="text-muted-foreground mb-6 max-w-2xl">
                         Obtenha ajuda prioritaria quando voce precisar.
                      </p>

                      <div class="rounded-xl border border-border bg-card overflow-hidden mb-6">
                         {[
                            { name: "Suporte por e-mail", price: "incluido" },
                            { name: "Suporte prioritario (4h SLA)", price: "Business" },
                            { name: "Gerente de conta dedicado", price: "Enterprise" },
                            { name: "Suporte 24/7", price: "Enterprise" },
                         ].map((tier, index) => (
                            <div class={`flex items-center justify-between px-6 py-4 ${index < 3 ? 'border-b border-dashed border-border' : ''}`}>
                               <span class="text-sm">{tier.name}</span>
                               <span class={`text-sm ${tier.price === 'incluido' ? 'text-primary font-medium' : tier.price === 'Enterprise' ? 'text-primary font-medium' : 'text-muted-foreground'}`}>
                                  {tier.price}
                               </span>
                            </div>
                         ))}
                      </div>

                      <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
                         {[
                            "Base de conhecimento completa",
                            "Documentacao detalhada",
                            "Suporte da comunidade",
                            "Onboarding guiado",
                            "Treinamento personalizado",
                            "Revisoes trimestrais",
                         ].map((feature) => (
                            <div class="flex items-center gap-2">
                               <Check class="w-4 h-4 text-primary shrink-0" />
                               <span class="text-muted-foreground">{feature}</span>
                            </div>
                         ))}
                      </div>
                   </div>

                   <!-- Enterprise CTA -->
                   <div class="rounded-xl border border-border bg-gradient-to-r from-card to-background p-8 flex flex-col md:flex-row items-center justify-between gap-6 relative overflow-hidden">
                      <div class="absolute -right-20 -top-20 w-96 h-96 bg-primary opacity-5 blur-[120px] rounded-full pointer-events-none"></div>
                      <div class="relative z-10">
                         <h3 class="text-foreground text-2xl font-bold mb-2">Pronto para Enterprise</h3>
                         <p class="text-muted-foreground">Entre em contato para uma cotacao personalizada.</p>
                         <p class="text-sm text-muted-foreground/80 mt-2">Descubra por que as melhores equipes confiam no Montte.</p>
                      </div>
                      <div class="flex flex-col gap-3 shrink-0 relative z-10">
                         <a href="/enterprise" class="inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-foreground text-background font-medium hover:bg-foreground/90 transition-colors">
                            Agendar demo
                         </a>
                         <a href="mailto:enterprise@montte.co" class="text-sm text-primary text-center hover:underline">Obter cotacao por e-mail</a>
                      </div>
                   </div>
                </section>

               <!-- FAQ SECTION -->
               <section class="pt-8">
                  <div class="text-center mb-12">
                     <h2 class="text-foreground text-3xl md:text-4xl font-bold mb-4">Perguntas frequentes</h2>
                     <p class="text-muted-foreground max-w-2xl mx-auto">
                        Projetamos nossos produtos e processos com seguranca em mente. Seguimos as melhores praticas do setor para manter seus dados seguros.
                     </p>
                  </div>

                  <div class="max-w-3xl mx-auto divide-y divide-border rounded-xl border border-border bg-card overflow-hidden">
                     {faqs.map((faq, index) => (
                        <details class="group">
                           <summary class="flex items-center justify-between px-6 py-5 cursor-pointer list-none">
                              <span class="font-medium text-foreground">{faq.question}</span>
                              <svg class="w-5 h-5 text-muted-foreground shrink-0 transition-transform duration-200 group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                              </svg>
                           </summary>
                           <div class="px-6 pb-5 text-sm text-muted-foreground">
                              {faq.answer}
                           </div>
                        </details>
                     ))}
                  </div>
               </section>
            </main>
         </div>
      </div>
   </div>

   <Footer />
</Landing>

<script>
   function syncToggles() {
      const mainToggle = document.getElementById('pricing-toggle') as HTMLInputElement;
      const sidebarToggle = document.getElementById('pricing-toggle-sidebar') as HTMLInputElement;
      const monthlyEls = document.querySelectorAll('.price-monthly');
      const yearlyEls = document.querySelectorAll('.price-yearly');

      function updatePrices(isYearly: boolean) {
         monthlyEls.forEach(el => el.classList.toggle('hidden', isYearly));
         yearlyEls.forEach(el => el.classList.toggle('hidden', !isYearly));
      }

      if (mainToggle && sidebarToggle) {
         mainToggle.addEventListener('change', (e) => {
            const isYearly = (e.target as HTMLInputElement).checked;
            sidebarToggle.checked = isYearly;
            updatePrices(isYearly);
         });

         sidebarToggle.addEventListener('change', (e) => {
            const isYearly = (e.target as HTMLInputElement).checked;
            mainToggle.checked = isYearly;
            updatePrices(isYearly);
         });

         updatePrices(mainToggle.checked);
      }
   }

   document.addEventListener('DOMContentLoaded', syncToggles);
   document.addEventListener('astro:page-load', syncToggles);
</script>
