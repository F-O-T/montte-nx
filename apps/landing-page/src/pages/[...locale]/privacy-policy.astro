---
export const prerender = true;

import type { SupportedLng } from "@packages/localization";
import StickyNavbar from "@/components/StickyNavbar.astro";
import { supportedLanguages } from "@/i18n/config";
import Layout from "@/layouts/Landing.astro";
import Footer from "@/sections/Footer.astro";

export function getStaticPaths() {
   return supportedLanguages.map((locale) => ({
      params: { locale: locale === "pt-BR" ? undefined : locale },
   }));
}

const { locale } = Astro.params;
const lang = (locale || "pt-BR") as SupportedLng;
---

<Layout lang={lang}>
   <div class="flex flex-col">
      <StickyNavbar lang={lang}/>
      <main class="py-36">
         <div class="mx-auto max-w-4xl px-6 prose dark:prose-invert">
            <h1>Politica de Privacidade do Montte</h1>
            <p>
               <strong>Ultima Atualizacao:</strong> 22 de dezembro de 2025
            </p>

            <p>
               Montte ("nos," "nosso," ou "nossa") opera a plataforma de gerenciamento
               financeiro Montte. Esta Politica de Privacidade descreve como coletamos,
               usamos, armazenamos e protegemos suas informacoes pessoais em conformidade
               com a Lei Geral de Protecao de Dados (LGPD - Lei 13.709/2018).
            </p>

            <h2>1. Dados que Coletamos</h2>

            <h3>1.1 Dados de Cadastro</h3>
            <p>Ao criar uma conta, coletamos:</p>
            <ul>
               <li>Nome completo</li>
               <li>Endereco de email</li>
               <li>Foto de perfil (opcional)</li>
               <li>Informacoes de autenticacao (senha criptografada ou tokens OAuth do Google)</li>
            </ul>

            <h3>1.2 Dados Financeiros</h3>
            <p>Para fornecer o Servico, armazenamos os dados que voce insere:</p>
            <ul>
               <li>Contas bancarias (nome, banco, tipo)</li>
               <li>Transacoes (valor, data, descricao, categoria)</li>
               <li>Contas a pagar e receber (valores, datas, recorrencia)</li>
               <li>Orcamentos e metas financeiras</li>
               <li>Categorias, tags e centros de custo personalizados</li>
               <li>Arquivos OFX importados e anexos (recibos, comprovantes)</li>
            </ul>

            <h3>1.3 Dados de Organizacao</h3>
            <p>Se voce criar ou participar de uma organizacao:</p>
            <ul>
               <li>Nome e logo da organizacao</li>
               <li>Lista de membros e suas funcoes</li>
               <li>Equipes e permissoes de acesso</li>
               <li>Convites enviados (email do convidado, status)</li>
            </ul>

            <h3>1.4 Dados de Uso e Analiticos</h3>
            <p>Coletamos automaticamente:</p>
            <ul>
               <li>Endereco IP e geolocalizacao aproximada</li>
               <li>Tipo de navegador e sistema operacional</li>
               <li>Paginas visitadas e acoes realizadas no Servico</li>
               <li>Horarios de acesso e duracao das sessoes</li>
               <li>Erros e eventos de performance</li>
            </ul>

            <h3>1.5 Dados de Notificacoes</h3>
            <p>Se voce ativar notificacoes push:</p>
            <ul>
               <li>Tokens de inscricao do navegador (Web Push)</li>
               <li>Preferencias de notificacao</li>
            </ul>

            <h2>2. Como Usamos Seus Dados</h2>
            <p>Utilizamos seus dados para:</p>
            <ul>
               <li><strong>Fornecer o Servico:</strong> Processar transacoes, gerar relatorios, calcular orcamentos</li>
               <li><strong>Autenticacao:</strong> Verificar sua identidade e proteger sua conta</li>
               <li><strong>Comunicacao:</strong> Enviar emails transacionais (confirmacoes, alertas, recuperacao de senha)</li>
               <li><strong>Notificacoes:</strong> Alertas de orcamento excedido, lembretes de contas a vencer</li>
               <li><strong>Analise:</strong> Entender como o Servico e utilizado para melhorias</li>
               <li><strong>Seguranca:</strong> Detectar fraudes, abusos e proteger contra ataques</li>
               <li><strong>Suporte:</strong> Responder a suas duvidas e solucionar problemas</li>
            </ul>

            <h2>3. Base Legal para Processamento (LGPD)</h2>
            <p>Processamos seus dados com base em:</p>
            <ul>
               <li><strong>Execucao de contrato:</strong> Para fornecer o Servico que voce solicitou</li>
               <li><strong>Consentimento:</strong> Para analise de uso e notificacoes opcionais</li>
               <li><strong>Interesse legitimo:</strong> Para seguranca e prevencao de fraudes</li>
               <li><strong>Obrigacao legal:</strong> Quando exigido por lei brasileira</li>
            </ul>

            <h2>4. Compartilhamento com Terceiros</h2>
            <p>Compartilhamos dados apenas com os seguintes provedores de servicos:</p>

            <h3>4.1 Infraestrutura e Hospedagem</h3>
            <ul>
               <li>Provedores de nuvem para armazenamento de dados e arquivos</li>
               <li>Servicos de CDN para entrega de conteudo</li>
            </ul>

            <h3>4.2 Analise e Monitoramento</h3>
            <ul>
               <li><strong>PostHog:</strong> Analise de produto e comportamento de uso (anonimizado)</li>
            </ul>

            <h3>4.3 Comunicacao</h3>
            <ul>
               <li><strong>Resend:</strong> Envio de emails transacionais</li>
            </ul>

            <h3>4.4 Pagamentos</h3>
            <ul>
               <li><strong>Stripe:</strong> Processamento de pagamentos de assinaturas (nos nao armazenamos dados de cartao)</li>
            </ul>

            <h3>4.5 Protecao</h3>
            <ul>
               <li><strong>Arcjet:</strong> Rate limiting e protecao contra ataques DDoS</li>
            </ul>

            <p>
               Todos os provedores sao contratualmente obrigados a proteger seus dados
               e usa-los apenas para os fins especificados.
            </p>

            <h2>5. Seguranca dos Dados</h2>
            <p>Implementamos multiplas camadas de seguranca:</p>
            <ul>
               <li><strong>Criptografia em transito:</strong> Todas as conexoes usam HTTPS/TLS</li>
               <li><strong>Criptografia em repouso:</strong> Dados sensiveis sao criptografados no banco de dados</li>
               <li><strong>Criptografia ponta a ponta (opcional):</strong> Voce pode ativar E2E para dados sensiveis com sua propria frase-senha</li>
               <li><strong>Autenticacao segura:</strong> Senhas sao armazenadas com hash usando algoritmos seguros</li>
               <li><strong>2FA:</strong> Autenticacao de dois fatores disponivel para maior protecao</li>
               <li><strong>Rate limiting:</strong> Protecao contra ataques de forca bruta</li>
               <li><strong>Isolamento de dados:</strong> Dados de cada organizacao sao isolados logicamente</li>
            </ul>

            <h2>6. Retencao de Dados</h2>
            <ul>
               <li><strong>Dados da conta:</strong> Mantidos enquanto sua conta estiver ativa</li>
               <li><strong>Dados financeiros:</strong> Mantidos ate voce solicitar exclusao</li>
               <li><strong>Logs de auditoria:</strong> Mantidos por 12 meses para seguranca</li>
               <li><strong>Dados analiticos:</strong> Anonimizados e agregados apos 24 meses</li>
               <li><strong>Backups:</strong> Retidos por ate 30 dias apos exclusao</li>
            </ul>

            <h2>7. Seus Direitos (LGPD)</h2>
            <p>Voce tem os seguintes direitos sobre seus dados:</p>
            <ul>
               <li><strong>Acesso:</strong> Solicitar copia dos seus dados pessoais</li>
               <li><strong>Correcao:</strong> Atualizar dados incorretos ou incompletos</li>
               <li><strong>Exclusao:</strong> Solicitar exclusao dos seus dados (com excecoes legais)</li>
               <li><strong>Portabilidade:</strong> Exportar seus dados em formatos padrao (OFX, CSV, PDF)</li>
               <li><strong>Revogacao de consentimento:</strong> Retirar consentimento a qualquer momento</li>
               <li><strong>Oposicao:</strong> Opor-se ao processamento para fins especificos</li>
               <li><strong>Informacao:</strong> Saber com quem seus dados sao compartilhados</li>
            </ul>
            <p>
               Para exercer esses direitos, acesse as configuracoes da sua conta ou
               entre em contato conosco.
            </p>

            <h2>8. Exclusao de Conta</h2>
            <p>
               Voce pode solicitar exclusao da sua conta nas configuracoes. O processo:
            </p>
            <ul>
               <li>Inicia um periodo de carencia de 7 dias (voce pode cancelar)</li>
               <li>Apos o periodo, seus dados pessoais e financeiros serao permanentemente excluidos</li>
               <li>Dados em organizacoes compartilhadas sao mantidos para outros membros</li>
               <li>Backups sao removidos em ate 30 dias</li>
            </ul>

            <h2>9. Cookies e Tecnologias Similares</h2>
            <p>Utilizamos cookies para:</p>
            <ul>
               <li><strong>Autenticacao:</strong> Manter sua sessao ativa (essencial)</li>
               <li><strong>Preferencias:</strong> Lembrar suas configuracoes (essencial)</li>
               <li><strong>Analise:</strong> Entender uso do Servico (com consentimento)</li>
            </ul>
            <p>
               Voce pode gerenciar cookies nas configuracoes do seu navegador, mas
               desabilitar cookies essenciais impedira o funcionamento do Servico.
            </p>

            <h2>10. Transferencias Internacionais</h2>
            <p>
               Alguns de nossos provedores de servicos podem processar dados fora do Brasil.
               Garantimos que tais transferencias seguem as exigencias da LGPD, incluindo
               clausulas contratuais padrao e verificacao do nivel de protecao do pais destinatario.
            </p>

            <h2>11. Privacidade de Menores</h2>
            <p>
               O Servico nao e destinado a menores de 18 anos. Nao coletamos
               intencionalmente dados de menores. Se tomarmos conhecimento de dados
               de menor, eles serao excluidos imediatamente.
            </p>

            <h2>12. Codigo Open Source</h2>
            <p>
               O Montte e software open source. Voce pode:
            </p>
            <ul>
               <li>Auditar o codigo para verificar como seus dados sao tratados</li>
               <li>Hospedar sua propria instancia para controle total dos dados</li>
               <li>Contribuir com melhorias de seguranca e privacidade</li>
            </ul>
            <p>
               Esta politica se aplica ao servico hospedado por nos. Instancias
               auto-hospedadas podem ter politicas diferentes definidas pelo operador.
            </p>

            <h2>13. Alteracoes nesta Politica</h2>
            <p>
               Podemos atualizar esta Politica periodicamente. Notificaremos sobre
               alteracoes significativas por email ou aviso no Servico. A data da
               ultima atualizacao sera sempre exibida no topo.
            </p>

            <h2>14. Contato e Encarregado de Dados</h2>
            <p>
               Para questoes sobre privacidade ou exercer seus direitos:
            </p>
            <ul>
               <li>
                  Repositorio GitHub: <a href="https://github.com/F-O-T/montte-nx" target="_blank" rel="noopener noreferrer">
                     github.com/F-O-T/montte-nx
                  </a>
               </li>
               <li>Issues: Para relatar problemas de privacidade ou seguranca</li>
            </ul>
         </div>
      </main>
      <Footer lang={lang}/>
   </div>
</Layout>
