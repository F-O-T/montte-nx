---
import {
   ArrowRight,
   Check,
   Download,
   LayoutDashboard,
   UserPlus,
} from "@lucide/astro";
import type { SupportedLng } from "@packages/localization";
import { Button } from "@packages/ui/components/button";

interface _Props {
   lang?: SupportedLng;
}

const { lang: _lang = "pt-BR" } = Astro.props;

const steps = [
   {
      description:
         "Crie sua conta em menos de 1 minuto. Gratis durante o Alpha, sem cartao de credito.",
      icon: UserPlus,
      title: "Crie sua conta",
   },
   {
      description:
         "Importe seus extratos bancarios no formato OFX ou adicione transacoes manualmente.",
      icon: Download,
      title: "Importe seus dados",
   },
   {
      description:
         "Acompanhe gastos, defina orcamentos e visualize relatorios detalhados das suas financas.",
      icon: LayoutDashboard,
      title: "Controle tudo",
   },
];

const features = [
   "Importacao automatica de extratos OFX",
   "Categorizacao inteligente de transacoes",
   "Relatorios e graficos detalhados",
];
---

<section id="how-it-works" class="bg-muted py-16 md:py-24">
   <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid items-center gap-12 lg:grid-cols-2 lg:gap-24">
         <div class="space-y-8">
            <div class="space-y-4">
               <span class="inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm font-medium">
                  Como Funciona
               </span>
               <h2 class="text-2xl font-semibold md:text-3xl lg:text-4xl">
                  Comece a organizar suas financas em tres passos simples
               </h2>
               <p class="text-muted-foreground text-lg">
                  Usando tecnologia para tornar suas financas mais simples, inteligentes e recompensadoras.
               </p>
            </div>

            <div class="grid gap-4 sm:grid-cols-2">
               {steps.slice(0, 2).map((step) => (
                  <div class="group bg-card border rounded-lg p-4 transition-all duration-300 hover:border-primary">
                     <div class="flex items-center gap-2 mb-2">
                        <step.icon class="size-5" />
                        <h3 class="font-semibold">{step.title}</h3>
                     </div>
                     <p class="text-muted-foreground text-sm">{step.description}</p>
                  </div>
               ))}
               {steps.slice(2).map((step) => (
                  <div class="group bg-card border rounded-lg p-4 transition-all duration-300 hover:border-primary">
                     <div class="flex items-center gap-2 mb-2">
                        <step.icon class="size-5" />
                        <h3 class="font-semibold">{step.title}</h3>
                     </div>
                     <p class="text-muted-foreground text-sm">{step.description}</p>
                  </div>
               ))}
            </div>

            <div class="space-y-3">
               {features.map((feature) => (
                  <div class="flex items-start gap-3">
                     <Check class="text-primary mt-1 size-5 shrink-0" />
                     <p class="text-muted-foreground">
                        <span class="text-foreground font-medium">{feature}</span>
                     </p>
                  </div>
               ))}
            </div>

            <div>
               <Button className="group rounded-lg" size="lg">
                  Comecar agora
                  <ArrowRight class="size-4 transition-transform duration-200 group-hover:translate-x-0.5" />
               </Button>
            </div>
         </div>

         <div class="relative flex justify-center">
            <div class="relative">
               <div class="border-primary bg-muted relative rounded-3xl border-2 p-4">
                  <div class="bg-card rounded-2xl border p-6 space-y-6">
                     <div class="flex items-center justify-between">
                        <span class="font-semibold text-lg">Resumo Financeiro</span>
                        <span class="text-muted-foreground text-sm">Dezembro 2024</span>
                     </div>
                     
                     <div class="flex items-center gap-3">
                        <span class="text-4xl font-semibold">R$ 12.450</span>
                        <div class="flex items-center gap-1 text-green-500">
                           <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="m18 15-6-6-6 6"/>
                           </svg>
                           <span class="text-sm">+18%</span>
                        </div>
                     </div>

                     <div class="space-y-4">
                        <div class="flex items-center justify-between gap-4">
                           <div class="flex items-center gap-3">
                              <div class="bg-primary/10 text-primary flex size-10 items-center justify-center rounded-lg">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                                 </svg>
                              </div>
                              <div class="flex flex-col gap-0.5">
                                 <span class="font-medium">Receitas</span>
                                 <span class="text-muted-foreground text-sm">Este mes</span>
                              </div>
                           </div>
                           <span class="text-sm font-medium text-green-500">+R$ 8.200</span>
                        </div>

                        <div class="flex items-center justify-between gap-4">
                           <div class="flex items-center gap-3">
                              <div class="bg-orange-500/10 text-orange-500 flex size-10 items-center justify-center rounded-lg">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/>
                                    <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/>
                                 </svg>
                              </div>
                              <div class="flex flex-col gap-0.5">
                                 <span class="font-medium">Despesas</span>
                                 <span class="text-muted-foreground text-sm">Este mes</span>
                              </div>
                           </div>
                           <span class="text-sm font-medium text-orange-500">-R$ 4.350</span>
                        </div>

                        <div class="flex items-center justify-between gap-4">
                           <div class="flex items-center gap-3">
                              <div class="bg-blue-500/10 text-blue-500 flex size-10 items-center justify-center rounded-lg">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"/>
                                    <path d="M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"/>
                                 </svg>
                              </div>
                              <div class="flex flex-col gap-0.5">
                                 <span class="font-medium">Investimentos</span>
                                 <span class="text-muted-foreground text-sm">Rendimento</span>
                              </div>
                           </div>
                           <span class="text-sm font-medium text-blue-500">+R$ 620</span>
                        </div>
                     </div>
                  </div>
               </div>
               
               <div class="absolute -z-10 inset-0">
                  <div class="border-primary/60 absolute top-1/2 left-1/2 size-[60%] -translate-x-1/2 -translate-y-1/2 animate-ping rounded-3xl border-2 opacity-20"></div>
                  <div class="border-primary/40 absolute top-1/2 left-1/2 size-[70%] -translate-x-1/2 -translate-y-1/2 animate-ping rounded-3xl border-2 opacity-10" style="animation-delay: 0.5s;"></div>
               </div>
            </div>
         </div>
      </div>
   </div>
</section>
