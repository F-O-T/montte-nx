---
import { HardDrive, Users, Zap } from "@lucide/astro";
import { Badge } from "@packages/ui/components/badge";
import {
   Card,
   CardContent,
   CardDescription,
   CardFooter,
   CardHeader,
   CardTitle,
} from "@packages/ui/components/card";

const addons = [
   {
      name: "Usuário Adicional",
      description: "Adicione mais usuários ao seu workspace",
      priceMonthly: 8,
      priceYearly: 7,
      perUnit: "/usuário/mês",
      availableFor: ["Pessoal", "Compartilhado"],
      icon: Users,
   },
   {
      name: "Armazenamento Extra",
      description: "Mais espaço para comprovantes e anexos",
      priceMonthly: 3,
      priceYearly: 2,
      perUnit: "/5GB/mês",
      availableFor: ["Pessoal", "Compartilhado"],
      icon: HardDrive,
   },
   {
      name: "Automações Ilimitadas",
      description: "Fluxos e regras de automação sem limite",
      priceMonthly: 12,
      priceYearly: 10,
      perUnit: "/mês",
      availableFor: ["Pessoal", "Compartilhado"],
      icon: Zap,
   },
];
---

<section class="py-12">
   <div class="mb-10 text-center md:text-left">
      <span class="text-primary text-sm uppercase font-bold tracking-widest">Personalize seu plano</span>
      <h2 class="text-foreground text-3xl font-bold mb-3 mt-2">Add-ons Disponíveis</h2>
      <p class="text-muted-foreground max-w-2xl">
         Expanda as funcionalidades do seu plano com módulos adicionais.
      </p>
   </div>

   <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {addons.map((addon) => (
         <Card className="hover:border-primary/40 hover:shadow-lg transition-all duration-300 bg-gradient-to-b from-card to-background/50">
            <CardHeader>
               <div class="flex items-center gap-3">
                  <div class="p-2 rounded-lg bg-primary/10">
                     <addon.icon class="size-4 text-primary" />
                  </div>
                  <CardTitle className="text-sm">{addon.name}</CardTitle>
               </div>
            </CardHeader>

            <CardContent className="flex-1">
               <CardDescription className="mb-4">
                  {addon.description}
               </CardDescription>

               <div class="flex items-baseline gap-1">
                  <span class="text-2xl font-bold text-foreground price-monthly">R${addon.priceMonthly}</span>
                  <span class="text-2xl font-bold text-foreground price-yearly hidden">R${addon.priceYearly}</span>
                  <span class="text-xs text-muted-foreground">{addon.perUnit}</span>
               </div>
            </CardContent>

            <CardFooter>
               <div class="flex flex-wrap gap-1">
                  {addon.availableFor.map((plan) => (
                     <Badge variant="secondary" className="text-[10px] font-medium bg-muted border-transparent">
                        {plan}
                     </Badge>
                  ))}
               </div>
            </CardFooter>
         </Card>
      ))}
   </div>
</section>
